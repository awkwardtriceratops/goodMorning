<html><head><link rel="stylesheet" type="text/css" href="css.css"></head><h1 id="artitle">He Was Iran’s Homegrown Tech Star. The Guards Saw a Blackmail Opportunity.<br></h1><p id="artcont">A Canadian-Iranian software engineer for Facebook, a tech celebrity in his native Iran, visited family in Tehran in January. His recent revelations of what happened next have stirred outrage. By Farnaz Fassihi A Canadian-Iranian software engineer at Facebook, a superstar among technology students in Iran, traveled to Tehran in January to visit his family. It was a trip that would upend his life. A few weeks later, the engineer departed under what he now describes as a coerced deal to act as an informant for the  Islamic Revolutionary Guards Corps, the powerful arm of Iran’s military. The engineer, Behdad Esfahbod, 38, said he was arrested by Revolutionary Guards intelligence agents on the streets of Tehran, held in solitary confinement for seven days and psychologically tortured into promising to cooperate, which he never did. He has since struggled as his mental health, marriage and career fell apart. He said he had considered suicide. Mr. Esfahbod, who now lives in Edmonton, Alberta, and has since quit his job at Facebook, where he earned $1.5 million annually, broke his silence this week in an essay published on the website Medium. His self-described descent into the clutches of Iran’s intelligence apparatus has touched an angry nerve among Iranians at home and abroad. Many view his story as part of a deeper malaise afflicting the country: The most promising young Iranian minds see their futures elsewhere, and are viewed with suspicion at home. A graduate of the Sharif University of Technology, the country’s version of M.I.T., Mr. Esfahbod won a silver and gold medal in the International Olympiad in Informatics. His groundbreaking work for the past two decades has been instrumental in making non-English writing scripts available to web and android users the world over. 